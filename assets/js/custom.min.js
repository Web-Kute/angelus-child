(function($){$(document).ready(function(){window.onorientationchange=function(){let orientation=window.orientation;switch(orientation){case 0:case 90:case-90:window.location.reload();break}};let windowHeight=$(window).height();$(window).resize(function(){if(windowWidth!=$(window).width()||windowHeight!=$(window).height()){location.reload();return}});$('button.openBtn').on('click',function(event){event.preventDefault();$id=$(this).attr('data-href');$('.modal.fade').attr('id',$id);let post_slug=$('.modal').attr('id');let post_title=$('.modal_title').html();let modal_html=$('.modal-body').html();$.ajax({url:frontend_ajax_object.ajaxurl,type:"POST",data:{'action':'load_page_modal','post_slug':$id,'post_title':post_title}}).done(function(response){$('#modal-home').html(response)})});$('button.closed').on('click',function(event){event.preventDefault();$('.modal-body').empty()})
setTimeout(function(){if(window.scrollY===0){jQuery('#backtop').fadeOut(1000)}},300);window.onscroll=function(){let scrollPos=document.documentElement.scrollTop||document.body.scrollTop;if(scrollPos<200){jQuery('#backtop').fadeOut(2000)}else if(scrollPos>201){jQuery('#backtop').fadeIn(2000)}};setTimeout(function(){let viewheight=$(window).height();let viewwidth=$(window).width();let viewport=document.querySelector("meta[name=viewport]");viewport.setAttribute("content","height="+viewheight+", width="+viewwidth+", initial-scale=1.0")},300);roundLogo=()=>{let logoSize=document.getElementById('figlogo').offsetHeight;document.getElementById('angel').style.setProperty('--heightRoundLogo',`${logoSize}px`)}
roundLogo();window.addEventListener('resize',()=>{let vh=window.innerHeight*0.01;document.getElementById('angel').style.setProperty('--vh',`${vh}px`);roundLogo()});$('p').each(function(index,item){if($.trim($(item).text())===""){$(item).remove()}});$('.slick-carousel').slick({dots:!0,infinite:!0,speed:500,slidesToShow:1,adaptiveHeight:!1,autoplay:!0,autoplaySpeed:15000,arrows:!1,mobileFirst:!0});$('.count-up').each(function(){let $this=$(this);jQuery({Counter:0}).animate({Counter:$this.text()},{duration:1000,easing:'swing',step:function(){$this.text(Math.ceil(this.Counter))}})});let $cross=$(".card-header h5");$cross.click(function(e){e.preventDefault();$cross.not(this).addClass('add-before').removeClass('open');$(this).toggleClass('add-before open')});$(".card h5").click(function(){var currentWidth=$(window).width();var xScroll=currentWidth<767?0:170;$('html, body').animate({scrollTop:$('#accordion').offset().top-xScroll},1000)});let $container=$("#partners");let $openPartners=$('.btn-open');let $closeCross=$(".close-cross");$openPartners.on('click',function(event){event.preventDefault();if($container.is(":visible")){$container.slideUp(500);$container.attr('aria-hidden','true');$openPartners.addClass('close-partners');$openPartners.removeClass('open-partners');$closeCross.fadeOut(800)}else{$container.slideDown(800);$container.removeAttr('aria-hidden');$openPartners.addClass('open-partners');$openPartners.removeClass('close-partners');$closeCross.fadeIn(200)}});$closeCross.on('click',function(event){event.preventDefault();$container.slideToggle(400,function(){$closeCross.fadeOut(100)});$openPartners.addClass('close-partners')});$('a.top, .smooth-scroll').on('click',function(e){let $urlSection=$(this).attr('href');e.preventDefault();const $urlBase=new URL('https://www.angelus-plongee.com/'+$urlSection);newHash=$urlBase.hash;$('html, body').animate({scrollTop:$(newHash).offset().top},600,function(){jQuery('#backtop').fadeOut(2000);window.location.hash=newHash})});let navigation=$('.navigation.topnav'),windowWidth=$(window).width(),$burgerMenu=$('#burgerMenu'),$body=$('body'),$closeMenu=$('.close-menu');if(windowWidth<960){closedMenu=()=>{$burgerMenu.slideUp();$burgerMenu.fadeOut();$closeMenu.fadeOut();$body.removeClass('fix-menu-burger')}
$(function(){$('.bar-menu').on('click',function(event){event.preventDefault();$burgerMenu.slideDown();$burgerMenu.fadeIn(200);$closeMenu.fadeIn(200);$body.addClass('fix-menu-burger')});$closeMenu.on('click',function(){closedMenu()})});$(document).on('click',function(event){if(!$(event.target).closest('.bar-menu').length){closedMenu()}})}
heightAdaptWindow=()=>{let heightMenu=$('#container-main-menu').outerHeight(!0);let heightHomeBody=$(window).height();let heightMobileMenu=$('#mobile-menu').outerHeight(!0);let heightTitle=$('h1').outerHeight(!0);let heightSubTitle=$('h2.sub-title').outerHeight(!0);let heightCTA=$('.cta_home').outerHeight(!0);if(windowWidth>960){let heightHomeSection=heightHomeBody-(heightTitle+heightMenu+heightSubTitle+heightCTA);$('#home').css('height',heightHomeSection)}else if(windowWidth<960&&$('#mobile-menu').length){let heightHomeSection=heightHomeBody-(heightTitle+heightMobileMenu+heightSubTitle+heightCTA);$('#home').css('height',heightHomeSection);$('.home').css('height',heightHomeBody)}}
heightAdaptWindow()})})(jQuery)
